{
  "name": "e2e-tests",
  "version": "1.0.0",
  "license": "Apache-2.0",
  "description": "SkillTree Dashboard and Client Display End to End Tests",
  "author": "SkillTree Team",
  "main": "index.js",
  "scripts": {
    "licenseDepCheck": "license-checker --production --onlyAllow='MIT;ISC;Apache-2.0' --summary",
    "licenseHeaderCheck": "license-check-and-add check -f '../license-add/license-add-config.json'",
    "licenseHeaderAdd": "license-check-and-add add -f ../license-add/license-add-config.json",
    "licenseCheck": "npm run licenseHeaderCheck && npm run licenseDepCheck",
    "cy:open": "cypress open",
    "cy:open:dev": "cypress open --config baseUrl=http://localhost:8082",
    "cy:run": "npm run licenseCheck && cypress run",
    "cy:run:dev": "cypress run --config baseUrl=http://localhost:8082",
    "cy:verify": "cypress verify",
    "backend:start": "java -Dspring.config.location=classpath:/application.yml,file:serverConfigs/backend_application.properties -jar ../service/target/skills-service-*.jar",
    "backend:start:postgresql": "java -Dspring.config.location=classpath:/application.yml,file:serverConfigs/backend_application.properties -jar ../service/target/skills-service-*.jar -Dspring.datasource.url=jdbc:postgresql://localhost:5432/skills -Dspring.datasource.username=postgres -Dspring.datasource.password=skillsPassword",
    "backend:start:ci": "mkdir -p ./logs && nohup npm run backend:start &> ./logs/skills-service.out &",
    "backend:start:postgresql:ci": "mkdir -p ./logs && nohup npm run backend:start:postgresql &> ./logs/skills-service.out &",
    "backend:waitToStart": "npx wait-on -t 80000 http://localhost:8080",
    "backend:resetDb": "java -cp ./cypress/db/h2-1.4.200.jar org.h2.tools.RunScript -url jdbc:h2:tcp://localhost:9090/mem:skills -user sa -script ./cypress/db/reset.sql",
    "backend:clearDb": "java -cp ./cypress/db/h2-1.4.200.jar org.h2.tools.RunScript -url jdbc:h2:tcp://localhost:9090/mem:skills -user sa -script ./cypress/db/clear.sql",
    "client-display:serve": "cd ../client-display && npm prune && npm install && npm run serve",
    "client-display:serve:ci": "mkdir -p ./logs && nohup npm run client-display:serve &> ./logs/client-display.out &",
    "client-display:waitToStart": "npx wait-on -t 80000 http://localhost:8083",
    "cyServices:start:skills-service": "npm run backend:start:ci && npm run backend:waitToStart",
    "cyServices:start:skills-service:postgresql": "npm run fake-smtp:start:ci &&  npm run backend:start:postgresql:ci && npm run backend:waitToStart",
    "cyServices:start:client-display": "npm run client-display:serve:ci && npm run client-display:waitToStart",
    "cyServices:start": "npm run cyServices:start:skills-service && npm run fake-smtp:start:ci && npm run cyServices:start:client-display",
    "cyServices:kill:skills-service": "for procid in $(ps -aux | grep \"serverConfigs/.*properties\" | grep \"jar$\" | awk '{print $2}'); do echo \"killing skills-service ${procid}\"; kill -9 $procid; done",
    "cyServices:kill:client-display": "for procid in $(ps -aux | grep \"client-display\" | grep \"npm run serve\" | grep -v \"grep\" | awk '{print $2}'); do echo \"killing skills-display ${procid}\"; kill -9 $procid; done",
    "cyServices:kill:client-display:1": "for procid in $(ps -aux | grep \"client-display\" | grep \"vue-cli-service serve\" | grep -v \"grep\" | awk '{print $2}'); do echo \"killing skills-display  ${procid}\"; kill -9 $procid; done",
    "cyServices:kill": "npm run cyServices:kill:skills-service && npm run cyServices:kill:client-display && npm run cyServices:kill:client-display:1 && npm run fake-smtp:stop",
    "print-env": "print-env",
    "fake-smtp:start": "fake-smtp-server --smtp-port 1026 --http-port 1081",
    "fake-smtp:start:ci": "mkdir -p ./logs && nohup npm run fake-smtp:start &> ./logs/fake-smtp.log &",
    "fake-smtp:stop": "fuser -k 1081/tcp"
  },
  "devDependencies": {
    "@bahmutov/print-env": "1.2.0",
    "cypress": "4.1.0",
    "cypress-file-upload": "3.5.3",
    "cypress-image-snapshot": "3.1.1",
    "eslint": "6.8.0",
    "license-check-and-add": "3.0.4",
    "license-checker": "25.0.1",
    "moment": "2.24.0",
    "wait-on": "3.3.0",
    "fake-smtp-server": "0.8.0"
  },
  "dependencies": {}
}
